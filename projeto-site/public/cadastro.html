<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
</head>
<body><body>
    <div class="header">
        <div class="container">
            <img src="img/logo.png" class="logo">
            <div class="nav">
                <ul class="menu">
                    <li></li> <a href="index.html" ><strong>Inicio</strong></a></li>
                    <li> <a href="login.html" ><strong>login</strong></a></li>
                </ul>
            </div>
        </div>
    </div>


<center>
<div class="caixa2">
<form name="cadastro" method="post" onsubmit="return cadastrar()">
    <br>
    <h1 class="cadastro">Cadastro</h1>
<div class="cadastropart1">
<div class="nome">
<h3>Nome</h3>
<input id="idnome" placeholder="Insira seu nome" type="text" required="required" name="nome" maxlength="30" >
</div>
<div class="email">
<h3>E-mail</h3>
<input id="idemail" placeholder="Insira seu e-mail " type="email" required="required" name="email" minlength="5" >
</div>
<br>
<br>
<div class="senha">
<h3>Crie uma senha</h3>
<input id="idsenha" placeholder="Insira sua senha" type="password" required="required" name="senha" minlength="5" >
</div>
<br>
<br>
</div>
<div class="cadastropart2">
<div class="data">
<h3>Data de nascimento</h3>
<input type="date" id="iddata" required="required" name="aniversario">
</div>
<br>
<img src="img/cadastro.png" class="imagem">
</div>
<div class="btc">
<input type="submit" class="enviar" onclick="Cadastrar();" value="cadastrar" />
</div>
</form>

<button onclick="limpar()" class="limpar">Limpar </button>
</div>
</center>

<div class="rodape">
    <center>
<h>for.everyone@hotmail.com</h>
    </center>
</div>

</body>
</html>

<style>
.rodape{
    position:absolute;
    bottom:0;
    width:100%;
    height: 20px;
    background:linear-gradient(to left, #ffe600ee,#f7003e, #f7003e,#e203ff,#2904fcee);
}
</style>

<script>
function limpar() {
idemail.value = "";
idnome.value ="";
iddata.value ="";
idsenha.value="";
idconfirmação.value="";
}
</script>

<script>

    function cadastrar() {

        var formulario = new URLSearchParams(new FormData(cadastro));
        fetch("/usuarios/cadastrar", {
            method: "POST",
            body: formulario
        }).then(function (response) {
            
            if (response.ok) {

                window.location.href='login.html';

            } else {
                Swal.fire({
                  title: ' <a style="color:#020202ee;">ERRO NO CADASTRO</a>',
                  icon: 'warning',
                  iconColor: 'black',
                  background: 'linear-gradient( #ffe600ee, #f7003e, #f7003e,#e203ff,#2904fcee)',
                  confirmButtonText: 'Okay',
                  confirmButtonColor: '#020202ee',
                 })
            }
        });
    }

        

